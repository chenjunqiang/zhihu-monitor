(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ac8f050"],{1827:function(t,e,a){},"21c7":function(t,e,a){"use strict";var n=a("bc5b"),s=a.n(n);s.a},3370:function(t,e,a){},"47ea":function(t,e,a){"use strict";var n=a("e03d"),s=a.n(n);s.a},"8fdd":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-aside",{attrs:{width:"auto"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeTab,"background-color":"#2c3b4e","text-color":"#fff","active-text-color":"#ffd04b",collapse:t.isExpansion,router:""}},[a("el-menu-item",{attrs:{index:"/admin/index",route:{path:"/home"}}},[a("i",{staticClass:"el-icon-location"}),a("span",[t._v("首页")])]),a("el-menu-item",{attrs:{index:"/showquestion",disabled:t.isInViewQuestionPage}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("查看问题")])]),a("el-menu-item",{attrs:{index:"/admin/category/create",disabled:t.isInViewAnswerPage}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("查看回答")])]),a("el-submenu",{attrs:{index:"4"},scopedSlots:t._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("关于")])]},proxy:!0}])},[a("el-menu-item",{attrs:{index:"/introduce"}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("网站简介")])]),a("el-menu-item",{attrs:{index:"/about"}},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("关于")])])],1),a("el-menu-item",{on:{click:t.isCollapse}},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v("收起")])])],1)],1)},s=[],i={name:"Aside",data:function(){return{isExpansion:!1,asideWidth:"200px"}},methods:{isCollapse:function(){this.isExpansion=!this.isExpansion}},computed:{activeTab:function(){return this.$route.path},isInViewQuestionPage:function(){return"/showquestion"!==this.$route.path},isInViewAnswerPage:function(){return"/showanswer"!==this.$route.path}}},o=i,l=(a("bd90"),a("2877")),u=Object(l["a"])(o,n,s,!1,null,"071c6db2",null);e["a"]=u.exports},"9bec":function(t,e,a){"use strict";var n=a("bf68"),s=a.n(n);s.a},a1c1:function(t,e,a){"use strict";var n=a("f6b6"),s=a.n(n);s.a},a7d7:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-header",[a("a",{on:{click:t.logout}},[a("i",{staticClass:"fa fa-sign-out"}),t._v(" 注销 ")]),a("span",[t._v("欢迎使用后台管理后台")])])},s=[],i={name:"Header",data:function(){return{}},methods:{logout:function(){window.localStorage.setItem("token",""),this.$store.commit("changeToken",""),this.$router.push({path:"/login"})}}},o=i,l=(a("b240"),a("2877")),u=Object(l["a"])(o,n,s,!1,null,"00cb9524",null);e["a"]=u.exports},b240:function(t,e,a){"use strict";var n=a("3370"),s=a.n(n);s.a},b3d7:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticStyle:{height:"100vh"}},[a("app-aside"),a("el-container",[a("app-header"),a("el-main",[a("icon-card"),a("question-table"),a("answer-table")],1),a("el-footer",[t._v("Footer")])],1)],1)},s=[],i=a("8fdd"),o=a("a7d7"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"icon-header"},[t._v("信息面板")]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[t._m(0),a("div",[a("p",[t._v("监控问题数")]),a("span",{staticClass:"is-size-5"},[t._v(t._s(t.questionsNum))])])]),a("div",{staticClass:"column"},[t._m(1),a("div",[a("p",[t._v("监控回答数")]),a("span",{staticClass:"is-size-5"},[t._v(t._s(t.answersNum))])])]),t._m(2),t._m(3)])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span",[a("i",{staticClass:"fa fa-file fa-3x has-text-link"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span",[a("i",{staticClass:"fa fa-star fa-3x has-text-primary"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"icon"},[a("span",[a("i",{staticClass:"fa fa-tag fa-3x has-text-info"})])]),a("div",[a("p",[t._v("Test")]),a("span",{staticClass:"is-size-5"},[t._v("0")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"icon"},[a("span",[a("i",{staticClass:"fa fa-comment fa-3x has-text-primary"})])]),a("div",[a("p",[t._v("Test")]),a("span",{staticClass:"is-size-5"},[t._v("0")])])])}],r=a("1bab"),c={name:"IconCard",data:function(){return{questionsNum:0,answersNum:0}},created:function(){this.getData()},methods:{getData:function(){this.getAnswerQuestionNum()},getAnswerQuestionNum:function(){var t=this;Object(r["a"])({url:"/questions",method:"get"}).then((function(e){t.questionsNum=e["totalNum"]})),Object(r["a"])({url:"/answers",method:"get"}).then((function(e){t.answersNum=e["totalNum"]}))}}},d=c,h=(a("9bec"),a("2877")),p=Object(h["a"])(d,l,u,!1,null,"7bc30058",null),m=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-top":"2rem"}},[a("p",{staticClass:"is-size-6"},[t._v("添加监控的问题")]),a("el-input",{attrs:{placeholder:"输入问题id"},model:{value:t.questionZhiHuId,callback:function(e){t.questionZhiHuId=e},expression:"questionZhiHuId"}}),a("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:t.addNewQuestion}},[t._v("提交")])],1),a("div",{staticClass:"question-table"},[a("p",{staticClass:"title is-size-5"},[t._v("监控问题")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:!0,data:t.questionsData}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod}}),a("el-table-column",{attrs:{prop:"questionTitle",label:"标题"}}),a("el-table-column",{attrs:{prop:"questionZhiHuId",label:"问题id"}}),a("el-table-column",{attrs:{prop:"currentFollowerNums",label:"关注数"}}),a("el-table-column",{attrs:{prop:"currentViewNums",label:"浏览数"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteQuestion(e.row)}}},[t._v("移除")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.totalNum,"page-count":t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])},g=[],b={name:"QuestionTable",data:function(){return{questionZhiHuId:"",questionsData:[],page:1,currentPage:1,totalPage:0,totalNum:0,loading:!0,pageSize:10}},watch:{page:function(t){console.log(t),this.getData()}},created:function(){this.getData()},methods:{handleClick:function(t){this.$router.push({path:"showquestion",query:{questionZhiHuId:t.questionZhiHuId}})},deleteQuestion:function(t){var e=this;Object(r["a"])({url:"/question",method:"delete",data:{questionZhiHuId:t.questionZhiHuId}}).then((function(t){1==t.res?(e.$message({message:"恭喜你，提交成功",type:"success"}),e.getData()):e.$message.error("提交失败，请核对问题id")})).catch((function(t){e.$message.error("提交失败，请核对问题id")}))},indexMethod:function(t){return t+1},handleSizeChange:function(t){this.pageSize=t,this.getData()},getData:function(){var t=this;Object(r["a"])({url:"/questions",params:{page:this.page,size:this.pageSize},method:"get"}).then((function(e){t.questionsData=e["data"],t.totalPage=e["totalPage"],t.totalNum=e["totalNum"],t.loading=!1})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.currentPage=t,this.page=t},addNewQuestion:function(){var t=this;Object(r["a"])({url:"/question",method:"put",data:{questionZhiHuId:this.questionZhiHuId}}).then((function(e){1==e.res?(t.getData(),t.questionZhiHuId="",t.$message({message:"恭喜你，提交成功",type:"success"})):t.$message.error("提交失败，请核对问题id")})).catch((function(e){t.$message.error("提交失败，请核对问题id")}))}}},v=b,w=(a("47ea"),Object(h["a"])(v,f,g,!1,null,"15f5a0ac",null)),_=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("p",{staticClass:"is-size-6"},[t._v("添加监控的回答")]),a("el-input",{attrs:{placeholder:"输入回答所在问题id"},model:{value:t.questionZhiHuId,callback:function(e){t.questionZhiHuId=e},expression:"questionZhiHuId"}}),a("el-input",{attrs:{placeholder:"输入回答id"},model:{value:t.answerZhiHuId,callback:function(e){t.answerZhiHuId=e},expression:"answerZhiHuId"}}),a("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:t.addNewAnswer}},[t._v("提交")])],1),a("div",{staticClass:"question-table"},[a("p",{staticClass:"title is-size-5"},[t._v("监控回答")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:!0,data:t.answersData}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod}}),a("el-table-column",{attrs:{prop:"title",label:"答主"}}),a("el-table-column",{attrs:{prop:"question",label:"问题"}}),a("el-table-column",{attrs:{prop:"questionZhiHuId",label:"问题Id"}}),a("el-table-column",{attrs:{prop:"rank",label:"排名"}}),a("el-table-column",{attrs:{prop:"voteNums",label:"点赞数"}}),a("el-table-column",{attrs:{prop:"commentNums",label:"评论数"}}),a("el-table-column",{attrs:{prop:"answerZhiHuId",label:"回答Id"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteAnswer(e.row)}}},[t._v("移除")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.totalNum,"page-count":t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])},x=[],I={name:"AnswerTable",data:function(){return{questionZhiHuId:"",answerZhiHuId:"",answersData:[],page:1,currentPage:1,totalPage:0,totalNum:0,loading:!0,pageSize:10}},watch:{page:function(t){console.log(t),this.getData()}},created:function(){this.getData()},methods:{addNewAnswer:function(){var t=this;Object(r["a"])({url:"/answer",method:"put",data:{questionZhiHuId:this.questionZhiHuId,answerZhiHuId:this.answerZhiHuId}}).then((function(e){1==e.res?(t.getData(),t.questionZhiHuId="",t.answerZhiHuId="",t.$message({message:"恭喜你，提交成功",type:"success"})):t.$message.error("提交失败，请核对回答id、问题id")})).catch((function(e){console.log(e),t.$message.error("提交失败，请核对回答id、问题id")}))},handleClick:function(t){this.$router.push({path:"showanswer",query:{questionZhiHuId:t.questionZhiHuId,answerZhiHuId:t.answerZhiHuId}})},deleteAnswer:function(t){var e=this;Object(r["a"])({url:"/answer",method:"delete",data:{questionZhiId:t.questionZhiHuId,answerZhiHuId:t.answerZhiHuId}}).then((function(t){1==t.res?(e.$message({message:"恭喜你，提交成功",type:"success"}),e.getData()):e.$message.error("提交失败，请核对回答id、问题id")})).catch((function(t){e.$message.error("提交失败，请核对回答id、问题id")}))},indexMethod:function(t){return t+1},handleSizeChange:function(t){this.pageSize=t,this.getData()},getData:function(){var t=this;Object(r["a"])({url:"/answers",params:{page:this.page,size:this.pageSize},method:"get"}).then((function(e){t.answersData=e["data"],t.totalPage=e["totalPage"],t.totalNum=e["totalNum"],t.loading=!1})).catch((function(t){console.log(t)}))},handleCurrentChange:function(t){this.currentPage=t,this.page=t}}},q=I,H=(a("a1c1"),Object(h["a"])(q,C,x,!1,null,"f71f816e",null)),Z=H.exports,z={name:"Home",data:function(){return{}},components:{"app-aside":i["a"],"app-header":o["a"],IconCard:m,QuestionTable:_,AnswerTable:Z}},y=z,$=(a("21c7"),Object(h["a"])(y,n,s,!1,null,"19679494",null));e["default"]=$.exports},bc5b:function(t,e,a){},bd90:function(t,e,a){"use strict";var n=a("1827"),s=a.n(n);s.a},bf68:function(t,e,a){},e03d:function(t,e,a){},f6b6:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2ac8f050.27dc53d8.js.map